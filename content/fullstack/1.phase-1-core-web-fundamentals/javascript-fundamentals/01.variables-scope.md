---
title: "Variables & Scope (let, const, var, hoisting)"
description: "Master JavaScript variable declarations, scope rules, hoisting behavior, and best practices for writing clean code"
estimatedMinutes: 18
phase: 1
topic: "JavaScript Fundamentals"
subtopic: "variables-scope"
priority: essential
difficulty: beginner
learningObjectives:
  - "Understand the differences between let, const, and var declarations"
  - "Identify block scope vs function scope behavior in JavaScript"
  - "Explain hoisting and the Temporal Dead Zone (TDZ)"
  - "Apply best practices for variable declarations in modern JavaScript"
quiz:
  passingScore: 70
  questions:
    - question: "What is the main difference between let and var in terms of scope?"
      type: single
      options:
        - "let is block-scoped, var is function-scoped"
        - "let is function-scoped, var is block-scoped"
        - "Both are block-scoped"
        - "Both are function-scoped"
      correctAnswer: "let is block-scoped, var is function-scoped"
      explanation: "let is block-scoped (limited to the block where it's declared), while var is function-scoped (limited to the function where it's declared). This is the key difference."

    - question: "What happens if you try to reassign a const variable?"
      type: single
      options:
        - "A TypeError is thrown"
        - "The value silently changes"
        - "A warning is shown but code continues"
        - "The variable becomes a let variable"
      correctAnswer: "A TypeError is thrown"
      explanation: "Attempting to reassign a const variable throws a TypeError. The 'const' keyword creates a read-only reference to a value."

    - question: "What is the Temporal Dead Zone (TDZ)?"
      type: single
      options:
        - "The period between entering a scope and when let/const variables are initialized"
        - "The time when var variables are undefined"
        - "A debugging feature in browser dev tools"
        - "The time it takes to execute a function"
      correctAnswer: "The period between entering a scope and when let/const variables are initialized"
      explanation: "The TDZ is the period from when you enter a scope until when let/const variables are initialized. Accessing them during this time throws a ReferenceError."

    - question: "Select all statements that are TRUE about hoisting."
      type: multiple
      options:
        - "var declarations are hoisted to the top of their scope"
        - "let and const declarations are not hoisted at all"
        - "Function declarations are hoisted completely"
        - "Only the declaration is hoisted, not the initialization"
      correctAnswers:
        - "var declarations are hoisted to the top of their scope"
        - "Function declarations are hoisted completely"
        - "Only the declaration is hoisted, not the initialization"
      explanation: "var and function declarations are hoisted. let and const ARE hoisted but remain in the TDZ until initialized. For var, only the declaration is hoisted (initialized as undefined), not the assignment."

    - question: "Which variable declaration should you use by default in modern JavaScript?"
      type: single
      options:
        - "const"
        - "let"
        - "var"
        - "It doesn't matter"
      correctAnswer: "const"
      explanation: "Best practice is to use const by default, as it prevents accidental reassignment and makes your code more predictable. Only use let when you need to reassign."

    - question: "Can you access a var variable before it's declared in the code?"
      type: true-false
      correctAnswer: true
      explanation: "Yes, due to hoisting. var declarations are hoisted to the top of their scope and initialized with undefined. However, accessing it will return undefined, not the assigned value."
---

# Variables & Scope (let, const, var, hoisting)

Understanding variables and scope is fundamental to writing good JavaScript code. Variables store data, and scope determines where that data can be accessed. JavaScript has three ways to declare variables: `let`, `const`, and `var`. Each has different rules about scope and hoisting.

In this lesson, you will learn when to use each type, how scope works, and how hoisting affects your code.

## What Are Variables?

Variables are named containers that store values. You can put data in them and use that data later in your program.

```javascript
// Storing different types of values
let userName = 'Alice'
let userAge = 25
let isActive = true
```

## The Three Ways to Declare Variables

JavaScript gives you three keywords to declare variables: `const`, `let`, and `var`.

::illustration-comparison-map
---
leftTitle: Modern (ES6+)
rightTitle: Legacy
leftColor: emerald
rightColor: amber
connections:
  - left: const - cannot reassign
    right: var - can reassign
    icon: ðŸ”’
  - left: let - can reassign
    right: var - can reassign
    icon: ðŸ”„
  - left: Block-scoped
    right: Function-scoped
    icon: ðŸ“¦
footnote: Modern code uses const and let. Avoid var in new code.
---
::

### const - Cannot Reassign

Use `const` when the variable should not change:

```javascript
const API_KEY = 'abc123'
const MAX_USERS = 100

// This will throw an error
API_KEY = 'new-key'  // TypeError: Assignment to constant variable
```

**Important:** `const` means you cannot reassign the variable. But if the value is an object or array, you can still change its contents:

```javascript
const user = { name: 'Bob' }
user.name = 'Alice'  // This works - we're not reassigning user
user.age = 30        // This works too

const colors = ['red', 'blue']
colors.push('green')  // This works - array contents can change
```

### let - Can Reassign

Use `let` when the variable needs to change:

```javascript
let counter = 0
counter = counter + 1  // This works
counter = 5            // This works

let status = 'pending'
status = 'completed'   // This works
```

### var - The Old Way (Avoid)

`var` is the old way to declare variables. It has confusing rules. Do not use it in new code:

```javascript
var oldStyle = 'avoid this'
```

## Block Scope vs Function Scope

Scope determines where a variable can be accessed.

### Block Scope (let and const)

A block is code between curly braces `{}`. Variables declared with `let` or `const` are only accessible inside their block:

```javascript
if (true) {
  let message = 'Hello'
  const greeting = 'Hi'
  console.log(message)  // Works - inside the block
}

console.log(message)  // Error - message is not defined
```

**Common blocks:**
- if statements
- for loops
- while loops
- Functions
- Any `{}` braces

```javascript
for (let i = 0; i < 3; i++) {
  console.log(i)  // Works
}

console.log(i)  // Error - i is not defined outside the loop
```

### Function Scope (var)

Variables declared with `var` are accessible anywhere in the function, even outside blocks:

```javascript
function test() {
  if (true) {
    var x = 10
  }
  console.log(x)  // Works - var ignores block scope
}

test()
```

This can cause bugs. That's why we use `let` and `const` instead.

::illustration-linear-flow
---
steps:
  - label: Enter Block
    sublabel: "{ }"
    icon: ðŸ“¦
    color: violet
  - label: Declare Variable
    sublabel: "let x = 5"
    icon: ðŸ·ï¸
    color: blue
  - label: Use Variable
    sublabel: "console.log(x)"
    icon: âœ…
    color: emerald
  - label: Exit Block
    sublabel: Variable destroyed
    icon: ðŸ—‘ï¸
    color: rose
---
::

## What Is Hoisting?

Hoisting is JavaScript's behavior of moving declarations to the top of their scope before code runs. This happens automatically.

### How var Is Hoisted

When you use `var`, the declaration moves to the top but the value stays where it is:

```javascript
console.log(x)  // undefined (not an error!)
var x = 5
console.log(x)  // 5

// JavaScript sees it like this:
var x           // Declaration hoisted
console.log(x)  // undefined
x = 5           // Assignment stays here
console.log(x)  // 5
```

### How let and const Are Hoisted

`let` and `const` are hoisted but you cannot access them before the declaration line. This creates the Temporal Dead Zone:

```javascript
console.log(y)  // ReferenceError: Cannot access 'y' before initialization
let y = 10

console.log(z)  // ReferenceError: Cannot access 'z' before initialization
const z = 20
```

### Temporal Dead Zone (TDZ)

The TDZ is the time between entering a scope and when the variable is declared. During this time, the variable exists but you cannot use it:

```javascript
{
  // TDZ starts here for 'name'
  console.log(name)  // Error - in TDZ

  let name = 'Alice'  // TDZ ends here
  console.log(name)   // Works - 'Alice'
}
```

## Practical Examples

### Example 1: Loop Variables

**Bad (using var):**

```javascript
for (var i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100)
}
// Output: 3, 3, 3 (not what you want!)
```

**Good (using let):**

```javascript
for (let i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100)
}
// Output: 0, 1, 2 (correct!)
```

### Example 2: Constants for Config

```javascript
const CONFIG = {
  apiUrl: 'https://api.example.com',
  timeout: 5000,
  retries: 3
}

// Use these values throughout your code
fetch(CONFIG.apiUrl, { timeout: CONFIG.timeout })
```

### Example 3: let for Counters

```javascript
let attempt = 0
const maxAttempts = 3

while (attempt < maxAttempts) {
  console.log(`Attempt ${attempt + 1}`)
  attempt++
}
```

## Best Practices

::illustration-checklist
---
title: Variable Declaration Best Practices
items:
  - text: Use const by default
    icon: ðŸ”’
  - text: Use let only when you need to reassign
    icon: ðŸ”„
  - text: Never use var in new code
    icon: âŒ
  - text: Declare variables at the top of their scope
    icon: ðŸ”
  - text: Use meaningful names (not x, y, z)
    icon: ðŸ“
  - text: Initialize variables when you declare them
    icon: âš¡
note: Following these rules makes your code easier to understand and debug
color: emerald
---
::

### Rule 1: Use const by Default

Start with `const`. Change to `let` only if you need to reassign:

```javascript
// Good
const userName = 'Alice'
const userAge = 25

// Only use let when needed
let counter = 0
counter++
```

### Rule 2: Avoid var

Do not use `var` in new code. It has confusing scope rules:

```javascript
// Bad
var status = 'active'

// Good
const status = 'active'
```

### Rule 3: Use Meaningful Names

Your variable names should explain what they store:

```javascript
// Bad
let d = 7
let x = 'John'

// Good
let daysUntilDeadline = 7
let customerName = 'John'
```

### Rule 4: Declare at the Top

Put your variable declarations at the start of their scope:

```javascript
function processOrder(order) {
  // Declare all variables at the top
  const orderTotal = order.total
  const taxRate = 0.08
  let finalPrice = 0

  // Then use them
  finalPrice = orderTotal * (1 + taxRate)
  return finalPrice
}
```

## Common Mistakes to Avoid

### Mistake 1: Using Variables Before Declaration

```javascript
// Bad
console.log(price)  // Error with let/const
let price = 100

// Good
let price = 100
console.log(price)  // Works
```

### Mistake 2: Assuming const Makes Everything Immutable

```javascript
// Misunderstanding
const user = { name: 'Bob' }
user.name = 'Alice'  // This works! Object contents can change

// To make objects immutable, use Object.freeze()
const user = Object.freeze({ name: 'Bob' })
user.name = 'Alice'  // Silently fails in non-strict mode
```

### Mistake 3: Reusing var in Loops

```javascript
// Bad - var leaks outside the loop
for (var i = 0; i < 5; i++) {
  // loop code
}
console.log(i)  // 5 - i is accessible here!

// Good - let is block-scoped
for (let j = 0; j < 5; j++) {
  // loop code
}
console.log(j)  // Error - j is not defined
```

## Interview Tips

Questions about variables and scope are common in interviews. Interviewers want to see if you understand:

1. **Scope differences**: Know that `let`/`const` are block-scoped and `var` is function-scoped
2. **Hoisting behavior**: Explain that `var` is hoisted and initialized as undefined, while `let`/`const` have TDZ
3. **Best practices**: Show you prefer `const` by default, then `let`, and avoid `var`
4. **Common pitfalls**: Understand loop variable issues and the TDZ

**Sample interview question:** "What's the difference between let, const, and var?"

**Strong answer:** "const and let are block-scoped, meaning they only exist within the curly braces where they're declared. var is function-scoped, so it's accessible anywhere in the function. const prevents reassignment, while let allows it. All three are hoisted, but let and const have a Temporal Dead Zone where you can't access them before their declaration. In modern code, I use const by default and only use let when I need to reassign. I avoid var because its function scope can lead to bugs."

## Key Takeaways

- **const** is for values that should not be reassigned (use this by default)
- **let** is for values that need to change (use when reassignment is needed)
- **var** is the old way with confusing rules (avoid in new code)
- **Block scope** (let/const) is safer than function scope (var)
- **Hoisting** moves declarations to the top, but behaves differently for each keyword
- **Temporal Dead Zone** prevents accessing let/const before declaration
- Always use meaningful variable names and declare variables at the top of their scope

In the next lesson, you'll learn about JavaScript data types and how variables can store different kinds of values.
