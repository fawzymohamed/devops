---
title: "Pseudo-classes & Pseudo-elements"
description: "Master CSS pseudo-classes (:hover, :focus, :nth-child) and pseudo-elements (::before, ::after) for advanced styling"
difficulty: beginner
estimatedMinutes: 12
priority: essential
tags: ["css3", "pseudo-classes", "pseudo-elements", "selectors", "web-fundamentals"]
roadmap: fullstack
phase: 1
topic: css3-mastery
isPreview: true
learningObjectives:
  - "Understand the difference between pseudo-classes and pseudo-elements"
  - "Use common pseudo-classes like :hover, :focus, and :nth-child"
  - "Create content with ::before and ::after pseudo-elements"
  - "Apply pseudo-classes and pseudo-elements for better UX and accessibility"
quiz:
  passingScore: 70
  questions:
    - question: "What is the difference between pseudo-classes and pseudo-elements?"
      type: single
      options:
        - "Pseudo-classes style states (:), pseudo-elements create content (::)"
        - "Pseudo-classes use ::, pseudo-elements use :"
        - "There is no difference"
        - "Pseudo-elements style states, pseudo-classes create content"
      correctAnswer: "Pseudo-classes style states (:), pseudo-elements create content (::)"
      explanation: "Pseudo-classes (single colon) target element states like :hover or :focus. Pseudo-elements (double colon) create virtual elements like ::before and ::after."

    - question: "What does :nth-child(2n) select?"
      type: single
      options:
        - "Every even child element"
        - "Every odd child element"
        - "Only the second child"
        - "The first two children"
      correctAnswer: "Every even child element"
      explanation: ":nth-child(2n) selects every 2nd, 4th, 6th, etc. element. This is equivalent to :nth-child(even). Use :nth-child(2n+1) or :nth-child(odd) for odd elements."

    - question: "Select all valid pseudo-class selectors."
      type: multiple
      options:
        - ":hover"
        - ":focus"
        - ":active"
        - "::hover"
        - ":first-child"
        - "::first-child"
      correctAnswers:
        - ":hover"
        - ":focus"
        - ":active"
        - ":first-child"
      explanation: "Pseudo-classes use a single colon. :hover, :focus, :active, and :first-child are valid. ::hover and ::first-child are incorrect syntax."

    - question: "What is the content property required for with ::before and ::after?"
      type: single
      options:
        - "Yes, content must be specified even if empty"
        - "No, content is optional"
        - "Only for ::before"
        - "Only for ::after"
      correctAnswer: "Yes, content must be specified even if empty"
      explanation: "The content property is required for ::before and ::after to work. Use content: '' for empty content if you just want to style the pseudo-element."

    - question: "The :focus pseudo-class is important for keyboard accessibility."
      type: true-false
      correctAnswer: true
      explanation: "True! :focus styles help keyboard users see which element is active. Never remove focus styles without providing an alternative."

    - question: "Can you use ::before and ::after on all HTML elements?"
      type: true-false
      correctAnswer: false
      explanation: "False! ::before and ::after don't work on replaced elements like <img>, <input>, <br>, and <hr> because they can't contain content."
---

# Pseudo-classes & Pseudo-elements

Pseudo-classes and pseudo-elements are powerful CSS selectors that let you style elements based on their state or create virtual elements without adding HTML. They make your code cleaner and your styling more flexible.

In this lesson, you'll learn the difference between pseudo-classes and pseudo-elements, master common patterns, and understand when to use each.

## Pseudo-classes vs Pseudo-elements

**Pseudo-classes** (single colon `:`) style elements based on their state or position:
- `:hover` - When mouse is over element
- `:focus` - When element has keyboard focus
- `:first-child` - When element is the first child

**Pseudo-elements** (double colon `::`) create virtual elements:
- `::before` - Insert content before element
- `::after` - Insert content after element
- `::first-letter` - Style the first letter

**Syntax:**

```css
/* Pseudo-class (single colon) */
button:hover {
  background: blue;
}

/* Pseudo-element (double colon) */
p::first-letter {
  font-size: 2em;
}
```

**Note:** Older code might use single colons for both (`:before`, `:after`). This still works but double colons (`::`) is the modern standard for pseudo-elements.

## Common Pseudo-classes

### Interactive States

#### :hover - Mouse Over

Styles when the mouse hovers over an element:

```css
.button {
  background: #3b82f6;
  transition: background 0.3s;
}

.button:hover {
  background: #2563eb;
}
```

#### :active - Being Clicked

Styles when an element is actively being clicked:

```css
.button:active {
  transform: scale(0.95);
}
```

#### :focus - Keyboard Focus

Styles when an element has keyboard focus (essential for accessibility):

```css
input:focus {
  outline: 2px solid #3b82f6;
  border-color: #3b82f6;
}

/* Don't remove focus styles without providing an alternative */
button:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}
```

**Accessibility Warning:** Never use `outline: none` on `:focus` without providing an alternative. Keyboard users need focus indicators.

#### :focus-visible (Modern)

Only shows focus styles for keyboard navigation, not mouse clicks:

```css
/* Focus styles only for keyboard users */
button:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

/* Remove default focus ring */
button:focus {
  outline: none;
}
```

### Form States

#### :disabled - Disabled Elements

```css
input:disabled {
  background: #f3f4f6;
  color: #9ca3af;
  cursor: not-allowed;
}
```

#### :checked - Checked Inputs

```css
input[type="checkbox"]:checked {
  background: #3b82f6;
  border-color: #3b82f6;
}

/* Style label when checkbox is checked */
input[type="checkbox"]:checked + label {
  color: #3b82f6;
  font-weight: 600;
}
```

#### :invalid and :valid - Form Validation

```css
input:invalid {
  border-color: #ef4444;
}

input:valid {
  border-color: #10b981;
}

/* Only show validation after user interacts */
input:not(:placeholder-shown):invalid {
  border-color: #ef4444;
}
```

### Structural Pseudo-classes

#### :first-child and :last-child

```css
/* First item in a list */
li:first-child {
  border-top: 2px solid #3b82f6;
}

/* Last item in a list */
li:last-child {
  border-bottom: none;
}
```

#### :nth-child() - Pattern Matching

Select elements by pattern:

```css
/* Every odd row (1, 3, 5, ...) */
tr:nth-child(odd) {
  background: #f9fafb;
}

/* Every even row (2, 4, 6, ...) */
tr:nth-child(even) {
  background: white;
}

/* Every third element (3, 6, 9, ...) */
li:nth-child(3n) {
  color: #3b82f6;
}

/* Every third element starting from 2nd (2, 5, 8, ...) */
li:nth-child(3n+2) {
  color: #10b981;
}

/* First 3 elements */
li:nth-child(-n+3) {
  font-weight: bold;
}

/* Specific element */
li:nth-child(5) {
  color: red;
}
```

**Pattern Formula:** `an+b`
- `a` = step size
- `b` = offset
- `n` starts at 0 and increments

Examples:
- `2n` = 2, 4, 6, 8, ... (even)
- `2n+1` = 1, 3, 5, 7, ... (odd)
- `3n` = 3, 6, 9, 12, ...
- `3n+1` = 1, 4, 7, 10, ...
- `-n+3` = 3, 2, 1 (first 3)

#### :nth-of-type() - By Element Type

Like `:nth-child()` but only counts elements of the same type:

```css
/* Every odd paragraph */
p:nth-of-type(odd) {
  margin-left: 2rem;
}

/* Second div */
div:nth-of-type(2) {
  background: #f3f4f6;
}
```

#### :first-of-type and :last-of-type

```css
/* First paragraph in any container */
p:first-of-type {
  font-size: 1.125rem;
}

/* Last image in container */
img:last-of-type {
  margin-bottom: 0;
}
```

### Link States (LVHA Order)

Style links in this order to avoid specificity issues:

```css
/* Link (unvisited) */
a:link {
  color: #3b82f6;
}

/* Visited */
a:visited {
  color: #8b5cf6;
}

/* Hover */
a:hover {
  color: #2563eb;
  text-decoration: underline;
}

/* Active (being clicked) */
a:active {
  color: #1e40af;
}
```

**Remember:** LVHA = Link, Visited, Hover, Active

### Other Useful Pseudo-classes

#### :not() - Negation

```css
/* All paragraphs except those with .intro class */
p:not(.intro) {
  color: #6b7280;
}

/* All buttons except disabled ones */
button:not(:disabled) {
  cursor: pointer;
}

/* All list items except the first */
li:not(:first-child) {
  margin-top: 0.5rem;
}
```

#### :empty - Empty Elements

```css
/* Style empty elements differently */
.card:empty {
  display: none;
}

/* Add message to empty state */
.list:empty::before {
  content: "No items to display";
  color: #9ca3af;
}
```

## Pseudo-elements

Pseudo-elements create virtual elements in the DOM that you can style.

### ::before and ::after

Insert content before or after an element:

```css
.element::before {
  content: ""; /* Required - even if empty */
  /* Other styles */
}

.element::after {
  content: "";
  /* Other styles */
}
```

**Important:** The `content` property is required, even if empty (`content: ""`).

### Practical Examples with ::before and ::after

**Example 1 - Decorative Icons:**

```html
<a href="#" class="link-external">Visit our site</a>
```

```css
.link-external::after {
  content: " ↗";
  color: #3b82f6;
}
```

**Example 2 - Custom Bullets:**

```html
<ul class="custom-list">
  <li>Item 1</li>
  <li>Item 2</li>
  <li>Item 3</li>
</ul>
```

```css
.custom-list {
  list-style: none;
  padding: 0;
}

.custom-list li::before {
  content: "✓";
  color: #10b981;
  font-weight: bold;
  margin-right: 0.5rem;
}
```

**Example 3 - Quote Marks:**

```html
<blockquote class="quote">
  Design is not just what it looks like. Design is how it works.
</blockquote>
```

```css
.quote {
  position: relative;
  padding: 2rem;
  font-size: 1.25rem;
  font-style: italic;
}

.quote::before {
  content: """;
  font-size: 4rem;
  position: absolute;
  top: 0;
  left: 0;
  color: #3b82f6;
  line-height: 1;
}

.quote::after {
  content: """;
  font-size: 4rem;
  position: absolute;
  bottom: -1rem;
  right: 0;
  color: #3b82f6;
  line-height: 1;
}
```

**Example 4 - Badge/Counter:**

```html
<button class="notification-button">
  Messages
</button>
```

```css
.notification-button {
  position: relative;
  padding: 0.5rem 1rem;
}

.notification-button::after {
  content: "3";
  position: absolute;
  top: -8px;
  right: -8px;
  background: #ef4444;
  color: white;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: bold;
}
```

**Example 5 - Clearfix (Legacy Pattern):**

```css
.clearfix::after {
  content: "";
  display: table;
  clear: both;
}
```

### ::first-letter and ::first-line

#### ::first-letter - Drop Cap

```css
p::first-letter {
  font-size: 3rem;
  font-weight: bold;
  color: #3b82f6;
  float: left;
  line-height: 1;
  margin-right: 0.1rem;
}
```

#### ::first-line

```css
p::first-line {
  font-weight: bold;
  color: #1f2937;
}
```

### ::selection - Text Selection

Style text when users select it:

```css
::selection {
  background: #3b82f6;
  color: white;
}
```

### ::placeholder - Input Placeholder

```css
input::placeholder {
  color: #9ca3af;
  opacity: 1; /* Firefox needs this */
}

input:focus::placeholder {
  color: #d1d5db;
}
```

## Combining Pseudo-classes and Pseudo-elements

You can combine them for powerful selectors:

```css
/* Hover state with ::after */
.button:hover::after {
  content: " →";
}

/* First child's ::before */
li:first-child::before {
  content: "★ ";
}

/* Checked input with adjacent label ::before */
input:checked + label::before {
  content: "✓";
  color: #10b981;
}
```

## Real-World Patterns

**Pattern 1: Custom Checkbox**

```html
<label class="custom-checkbox">
  <input type="checkbox">
  <span>I agree to terms</span>
</label>
```

```css
.custom-checkbox input {
  display: none;
}

.custom-checkbox span::before {
  content: "";
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 2px solid #d1d5db;
  border-radius: 4px;
  margin-right: 0.5rem;
  vertical-align: middle;
}

.custom-checkbox input:checked + span::before {
  background: #3b82f6;
  border-color: #3b82f6;
  content: "✓";
  color: white;
  text-align: center;
  line-height: 20px;
  font-weight: bold;
}
```

**Pattern 2: Tooltip**

```html
<button class="tooltip" data-tooltip="Click to save">
  Save
</button>
```

```css
.tooltip {
  position: relative;
}

.tooltip::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: #1f2937;
  color: white;
  padding: 0.5rem 0.75rem;
  border-radius: 4px;
  font-size: 0.875rem;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
}

.tooltip:hover::after {
  opacity: 1;
}
```

**Pattern 3: Required Field Indicator**

```html
<label class="required">
  Email
  <input type="email" required>
</label>
```

```css
.required::after {
  content: " *";
  color: #ef4444;
}
```

## Limitations of Pseudo-elements

Pseudo-elements don't work on:
- Replaced elements: `<img>`, `<video>`, `<iframe>`
- Form inputs: `<input>`, `<textarea>`, `<select>`
- Self-closing elements: `<br>`, `<hr>`

## Best Practices

1. **Use :: for pseudo-elements, : for pseudo-classes**
   - Modern standard separates them clearly

2. **Always include content property for ::before/::after**
   - Even if empty: `content: ""`

3. **Don't remove :focus styles without alternatives**
   - Critical for accessibility
   - Use `:focus-visible` for better UX

4. **Use :nth-child() for patterns, not JavaScript**
   - More performant
   - Easier to maintain

5. **Keep pseudo-element content decorative**
   - Screen readers may not announce it
   - Don't put important information in ::before/::after

## Browser Compatibility Notes

Most pseudo-classes and pseudo-elements have excellent browser support. Check for:
- `:focus-visible` - Modern browsers only
- `::placeholder` - May need vendor prefixes
- `:not()` - Multiple selectors in `:not()` is CSS4

## Key Takeaways

- **Pseudo-classes** (`:`) style element states like :hover, :focus, :nth-child
- **Pseudo-elements** (`::`) create virtual elements like ::before, ::after
- **:hover, :focus, :active** are essential for interactive elements
- **:nth-child()** uses patterns like `2n` (even) or `2n+1` (odd)
- **::before and ::after** require `content` property
- **LVHA order** for links: :link, :visited, :hover, :active
- **:focus styles** are essential for accessibility
- **::selection** styles text selection
- Pseudo-elements don't work on replaced elements like `<img>` and `<input>`
- Use `attr()` in `content` to pull values from HTML attributes

Pseudo-classes and pseudo-elements are powerful tools for creating clean, efficient CSS. Master them, and you'll write less HTML and more maintainable stylesheets.
