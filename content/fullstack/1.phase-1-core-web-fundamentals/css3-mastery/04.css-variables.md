---
title: "CSS Variables (custom properties, theming)"
description: "Master CSS custom properties (variables) for dynamic theming, reusable values, and maintainable stylesheets"
difficulty: beginner
estimatedMinutes: 10
priority: essential
tags: ["css3", "css-variables", "custom-properties", "theming", "web-fundamentals"]
roadmap: fullstack
phase: 1
topic: css3-mastery
isPreview: true
learningObjectives:
  - "Understand CSS custom properties and their syntax"
  - "Create and use CSS variables for colors, spacing, and other values"
  - "Implement theming with CSS variables"
  - "Apply scope and inheritance rules for custom properties"
quiz:
  passingScore: 70
  questions:
    - question: "What is the correct syntax for declaring a CSS variable?"
      type: single
      options:
        - "--variable-name: value;"
        - "$variable-name: value;"
        - "var-name: value;"
        - "@variable-name: value;"
      correctAnswer: "--variable-name: value;"
      explanation: "CSS variables use the -- prefix for declaration. The double dash distinguishes custom properties from standard CSS properties."

    - question: "How do you use a CSS variable in your styles?"
      type: single
      options:
        - "var(--variable-name)"
        - "$variable-name"
        - "use(--variable-name)"
        - "get(--variable-name)"
      correctAnswer: "var(--variable-name)"
      explanation: "The var() function is used to access CSS variable values. You pass the variable name (with --) as the argument."

    - question: "Where should you declare global CSS variables that are used throughout your site?"
      type: single
      options:
        - ":root selector"
        - "body selector"
        - "html selector"
        - "* (universal) selector"
      correctAnswer: ":root selector"
      explanation: ":root is the best place for global CSS variables. It has higher specificity than html and is the standard convention for global custom properties."

    - question: "Select all benefits of using CSS variables."
      type: multiple
      options:
        - "Easy theming (light/dark mode)"
        - "Faster performance than static values"
        - "Reduced code duplication"
        - "Dynamic updates with JavaScript"
        - "Can be changed at runtime"
      correctAnswers:
        - "Easy theming (light/dark mode)"
        - "Reduced code duplication"
        - "Dynamic updates with JavaScript"
        - "Can be changed at runtime"
      explanation: "CSS variables enable theming, reduce duplication, can be updated with JavaScript, and change at runtime. They don't inherently improve performance compared to static values."

    - question: "Can you provide a fallback value when using var()?"
      type: true-false
      correctAnswer: true
      explanation: "True! You can provide a fallback value as the second argument: var(--color, blue). If --color is not defined, blue is used."

    - question: "CSS variables cascade and inherit like other CSS properties."
      type: true-false
      correctAnswer: true
      explanation: "True! CSS variables follow cascade and inheritance rules. Child elements inherit custom properties from parents unless overridden."
---

# CSS Variables (custom properties, theming)

CSS variables (officially called custom properties) let you store values and reuse them throughout your stylesheet. They make your code easier to maintain, enable dynamic theming, and work beautifully with JavaScript.

In this lesson, you'll learn how to create and use CSS variables, implement theming systems, and understand scope and inheritance.

## What Are CSS Variables?

**CSS variables** (custom properties) are entities defined by CSS authors that store specific values to be reused throughout a document.

Before CSS variables, you had to repeat values:

```css
/* Without variables - repetitive and hard to maintain */
.header {
  background-color: #3b82f6;
}

.button {
  background-color: #3b82f6;
}

.link:hover {
  color: #3b82f6;
}

/* If you want to change the color, you update it in 3 places */
```

With CSS variables:

```css
/* With variables - define once, use everywhere */
:root {
  --primary-color: #3b82f6;
}

.header {
  background-color: var(--primary-color);
}

.button {
  background-color: var(--primary-color);
}

.link:hover {
  color: var(--primary-color);
}

/* Change the color in one place, it updates everywhere */
```

## Basic Syntax

### Declaring Variables

Use the `--` prefix followed by your variable name:

```css
:root {
  --primary-color: #3b82f6;
  --secondary-color: #10b981;
  --font-size-large: 2rem;
  --spacing-unit: 8px;
}
```

**Naming rules:**
- Start with `--`
- Use lowercase and hyphens (kebab-case)
- Be descriptive: `--primary-color` not `--color1`
- Can contain letters, numbers, hyphens, underscores

### Using Variables

Use the `var()` function to access variable values:

```css
.button {
  background-color: var(--primary-color);
  font-size: var(--font-size-large);
  padding: var(--spacing-unit);
}
```

### Fallback Values

Provide a fallback value if the variable is not defined:

```css
.element {
  /* If --custom-color is not defined, use blue */
  color: var(--custom-color, blue);

  /* Fallback can also be another variable */
  background: var(--bg-color, var(--default-bg, white));
}
```

## Scope and Inheritance

CSS variables follow normal CSS inheritance rules.

### Global Scope (:root)

Define global variables in the `:root` selector (represents the `<html>` element):

```css
:root {
  --primary-color: #3b82f6;
  --text-color: #1f2937;
  --border-radius: 8px;
}

/* These variables are available everywhere */
```

### Local Scope (element-specific)

Define variables within specific selectors:

```css
.card {
  --card-padding: 1.5rem;
  --card-bg: white;

  padding: var(--card-padding);
  background: var(--card-bg);
}

.card-dark {
  /* Override the variable for dark cards */
  --card-bg: #1f2937;
}
```

### Inheritance Example

```css
:root {
  --text-color: black;
}

.parent {
  --text-color: blue; /* Override for this branch */
  color: var(--text-color);
}

.child {
  /* Inherits --text-color: blue from .parent */
  color: var(--text-color);
}
```

## Practical Examples

### Example 1: Color System

```css
:root {
  /* Primary colors */
  --color-primary: #3b82f6;
  --color-primary-dark: #2563eb;
  --color-primary-light: #60a5fa;

  /* Semantic colors */
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-danger: #ef4444;

  /* Neutral colors */
  --color-gray-50: #f9fafb;
  --color-gray-900: #111827;

  /* Text colors */
  --text-primary: var(--color-gray-900);
  --text-secondary: #6b7280;
}

.button-primary {
  background: var(--color-primary);
  color: white;
}

.button-primary:hover {
  background: var(--color-primary-dark);
}

.alert-success {
  background: var(--color-success);
  color: white;
}
```

### Example 2: Spacing System

```css
:root {
  /* Base unit */
  --spacing-unit: 8px;

  /* Spacing scale */
  --spacing-xs: calc(var(--spacing-unit) * 0.5);  /* 4px */
  --spacing-sm: var(--spacing-unit);               /* 8px */
  --spacing-md: calc(var(--spacing-unit) * 2);    /* 16px */
  --spacing-lg: calc(var(--spacing-unit) * 3);    /* 24px */
  --spacing-xl: calc(var(--spacing-unit) * 4);    /* 32px */
}

.card {
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-lg);
}

.button {
  padding: var(--spacing-sm) var(--spacing-md);
}
```

### Example 3: Typography System

```css
:root {
  /* Font families */
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-mono: 'Fira Code', monospace;

  /* Font sizes */
  --text-xs: 0.75rem;   /* 12px */
  --text-sm: 0.875rem;  /* 14px */
  --text-base: 1rem;    /* 16px */
  --text-lg: 1.125rem;  /* 18px */
  --text-xl: 1.25rem;   /* 20px */
  --text-2xl: 1.5rem;   /* 24px */
  --text-3xl: 1.875rem; /* 30px */

  /* Line heights */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-loose: 1.75;
}

body {
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: var(--leading-normal);
}

h1 {
  font-size: var(--text-3xl);
  line-height: var(--leading-tight);
}

code {
  font-family: var(--font-mono);
  font-size: var(--text-sm);
}
```

## Theming with CSS Variables

CSS variables make theming simple and powerful.

### Light/Dark Mode Theme

```html
<body class="light-theme">
  <button id="theme-toggle">Toggle Theme</button>
  <div class="content">
    <h1>Welcome</h1>
    <p>This page supports light and dark themes.</p>
  </div>
</body>
```

```css
/* Define theme variables */
:root {
  /* Light theme (default) */
  --bg-primary: white;
  --bg-secondary: #f3f4f6;
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --border-color: #e5e7eb;
}

/* Dark theme overrides */
.dark-theme {
  --bg-primary: #111827;
  --bg-secondary: #1f2937;
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --border-color: #374151;
}

/* Use the variables */
body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color 0.3s, color 0.3s;
}

.card {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  color: var(--text-primary);
}

.text-muted {
  color: var(--text-secondary);
}
```

```javascript
// Toggle theme with JavaScript
const toggle = document.getElementById('theme-toggle');
const body = document.body;

toggle.addEventListener('click', () => {
  body.classList.toggle('dark-theme');
  body.classList.toggle('light-theme');
});
```

### Multiple Themes

```css
:root {
  /* Default theme */
  --primary: #3b82f6;
  --secondary: #10b981;
}

/* Blue theme */
.theme-blue {
  --primary: #3b82f6;
  --secondary: #60a5fa;
}

/* Green theme */
.theme-green {
  --primary: #10b981;
  --secondary: #34d399;
}

/* Purple theme */
.theme-purple {
  --primary: #8b5cf6;
  --secondary: #a78bfa;
}

/* Use the theme colors */
.button-primary {
  background: var(--primary);
}

.button-secondary {
  background: var(--secondary);
}
```

## Dynamic Updates with JavaScript

CSS variables can be changed with JavaScript, enabling runtime customization:

```javascript
// Get computed value
const root = document.documentElement;
const primaryColor = getComputedStyle(root).getPropertyValue('--primary-color');

// Set value
root.style.setProperty('--primary-color', '#ef4444');

// Remove value
root.style.removeProperty('--primary-color');
```

**Example - Color Picker:**

```html
<input type="color" id="color-picker" value="#3b82f6">
<div class="preview">
  <button class="sample-button">Sample Button</button>
</div>
```

```css
:root {
  --user-color: #3b82f6;
}

.sample-button {
  background: var(--user-color);
  color: white;
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 6px;
}
```

```javascript
const picker = document.getElementById('color-picker');

picker.addEventListener('input', (e) => {
  document.documentElement.style.setProperty('--user-color', e.target.value);
});
```

## Advanced Techniques

### 1. Calculations with calc()

```css
:root {
  --base-size: 16px;
  --scale: 1.5;
}

.heading {
  font-size: calc(var(--base-size) * var(--scale)); /* 24px */
}

.container {
  width: calc(100% - var(--sidebar-width));
}
```

### 2. Responsive Variables

Change variable values in media queries:

```css
:root {
  --container-width: 100%;
  --padding: 1rem;
  --font-size: 16px;
}

@media (min-width: 768px) {
  :root {
    --container-width: 90%;
    --padding: 2rem;
    --font-size: 18px;
  }
}

@media (min-width: 1024px) {
  :root {
    --container-width: 1200px;
    --padding: 3rem;
  }
}

.container {
  width: var(--container-width);
  padding: var(--padding);
  font-size: var(--font-size);
}
```

### 3. Component-Scoped Variables

```css
.button {
  /* Button component variables */
  --button-bg: #3b82f6;
  --button-color: white;
  --button-padding: 0.5rem 1rem;
  --button-radius: 6px;

  background: var(--button-bg);
  color: var(--button-color);
  padding: var(--button-padding);
  border-radius: var(--button-radius);
}

/* Override for specific variants */
.button-large {
  --button-padding: 0.75rem 1.5rem;
}

.button-danger {
  --button-bg: #ef4444;
}
```

## Best Practices

1. **Use descriptive names**
   - Good: `--primary-color`, `--spacing-large`
   - Bad: `--color1`, `--size-3`

2. **Define global variables in :root**
   - Keeps all values in one place
   - Easy to find and update

3. **Group related variables**
   ```css
   :root {
     /* Colors */
     --color-primary: #3b82f6;
     --color-secondary: #10b981;

     /* Spacing */
     --spacing-sm: 8px;
     --spacing-md: 16px;

     /* Typography */
     --font-base: 1rem;
     --font-large: 1.5rem;
   }
   ```

4. **Provide fallback values for critical properties**
   ```css
   .element {
     color: var(--text-color, black);
   }
   ```

5. **Use semantic naming for themes**
   - Use `--text-primary` not `--text-black`
   - This way dark theme can override it

## Browser Support and Fallbacks

CSS variables are supported in all modern browsers. For older browsers, provide fallbacks:

```css
.element {
  color: blue; /* Fallback for old browsers */
  color: var(--primary-color); /* Overrides if supported */
}
```

## Common Mistakes to Avoid

1. **Forgetting the -- prefix**
   ```css
   /* Wrong */
   :root {
     primary-color: blue;
   }

   /* Correct */
   :root {
     --primary-color: blue;
   }
   ```

2. **Using var() in declaration**
   ```css
   /* Wrong */
   :root {
     --primary: var(#3b82f6);
   }

   /* Correct */
   :root {
     --primary: #3b82f6;
   }
   ```

3. **Not using fallbacks for critical values**
   - Always provide fallbacks for essential properties
   - Ensures graceful degradation

4. **Overcomplicating with too many variables**
   - Start with colors, spacing, and typography
   - Add more as needed, don't create variables for everything

## Key Takeaways

- **CSS variables** (custom properties) store reusable values
- Declare with `--variable-name: value`
- Use with `var(--variable-name)`
- Define global variables in `:root`
- Variables cascade and inherit like other CSS properties
- Provide fallbacks with `var(--name, fallback)`
- Perfect for theming (light/dark mode)
- Can be updated dynamically with JavaScript
- Use descriptive, semantic names for maintainability
- Combine with calc() for dynamic calculations

CSS variables are essential for modern, maintainable CSS. They make theming simple, reduce code duplication, and enable dynamic styling that was once only possible with JavaScript.
