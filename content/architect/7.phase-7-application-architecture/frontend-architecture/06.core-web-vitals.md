---
title: "Core Web Vitals (LCP, INP, CLS)"
description: "Learn the three Core Web Vitals metrics that Google uses to measure real-world user experience and how to optimize each one."
estimatedMinutes: 15
difficulty: intermediate
learningObjectives:
  - "Understand what Core Web Vitals are and why Google uses them for ranking"
  - "Explain LCP, INP, and CLS with their thresholds and measurement methods"
  - "Identify common causes of poor scores for each metric"
  - "Apply optimization techniques to improve each Core Web Vital"
  - "Use field data and lab tools to diagnose performance issues"
prerequisites:
  - "performance-patterns"
quiz:
  passingScore: 70
  questions:
    - question: "What does Largest Contentful Paint (LCP) measure?"
      type: single
      options:
        - "The time until the largest visible content element finishes rendering"
        - "The total time to download all images on a page"
        - "The time between two consecutive page paints"
        - "The amount of CSS loaded before first render"
      correctAnswer: "The time until the largest visible content element finishes rendering"
      explanation: "LCP measures when the largest visible element (hero image, heading, video poster) finishes rendering in the viewport. A good LCP means users see meaningful content quickly. The threshold is 2.5 seconds or less."

    - question: "Select all common causes of poor Interaction to Next Paint (INP) scores."
      type: multiple
      options:
        - "Long JavaScript tasks blocking the main thread"
        - "Too many event handlers executing synchronously"
        - "Slow server response time for the initial HTML"
        - "Large DOM size requiring expensive re-renders"
      correctAnswers:
        - "Long JavaScript tasks blocking the main thread"
        - "Too many event handlers executing synchronously"
        - "Large DOM size requiring expensive re-renders"
      explanation: "INP measures input responsiveness. Long JS tasks, synchronous handlers, and large DOM re-renders all block the main thread and delay visual feedback. Slow server response affects LCP (loading), not INP (interactivity)."

    - question: "A CLS score of 0.25 meets the 'good' threshold for Core Web Vitals."
      type: true-false
      correctAnswer: false
      explanation: "The good threshold for CLS is 0.1 or less. A score of 0.25 exceeds this and falls into the 'poor' range (above 0.25). CLS measures unexpected layout shifts -- elements moving after they appear. Values should be as close to zero as possible."

    - question: "Which tool provides field data showing how real users experience your site?"
      type: single
      options:
        - "Chrome User Experience Report (CrUX)"
        - "Webpack Bundle Analyzer"
        - "ESLint"
        - "Git blame"
      correctAnswer: "Chrome User Experience Report (CrUX)"
      explanation: "CrUX collects anonymized performance data from real Chrome users who visit your site. This field data shows actual user experience across different devices and networks. Lab tools like Lighthouse simulate conditions but cannot capture real-world variance."

    - question: "What replaced First Input Delay (FID) as a Core Web Vital in 2024?"
      type: single
      options:
        - "Interaction to Next Paint (INP)"
        - "Time to First Byte (TTFB)"
        - "Total Blocking Time (TBT)"
        - "First Contentful Paint (FCP)"
      correctAnswer: "Interaction to Next Paint (INP)"
      explanation: "INP replaced FID in March 2024. FID only measured the delay of the first interaction. INP measures responsiveness across all interactions during the entire page visit, giving a more complete picture of how responsive a page feels."
---

# Core Web Vitals (LCP, INP, CLS)

Google measures real-world user experience with three metrics called **Core Web Vitals**. These metrics affect search ranking and represent what users actually feel: how fast content appears, how quickly the page responds to input, and how stable the layout is.

As of 2024, the three Core Web Vitals are **LCP**, **INP**, and **CLS**. Google evaluates these at the **75th percentile** of page loads -- meaning 75% of your visitors must have a good experience, not just the median user.

## The Three Metrics

| Metric | Measures | Good | Poor |
|--------|----------|------|------|
| **LCP** (Largest Contentful Paint) | Loading speed | ≤ 2.5s | > 4.0s |
| **INP** (Interaction to Next Paint) | Input responsiveness | ≤ 200ms | > 500ms |
| **CLS** (Cumulative Layout Shift) | Visual stability | ≤ 0.1 | > 0.25 |

## Largest Contentful Paint (LCP)

LCP measures the time until the **largest visible element** in the viewport finishes rendering. This is usually a hero image, a large heading, or a video poster frame.

### Common Causes of Poor LCP

- **Slow server response** -- High Time to First Byte (TTFB) delays everything
- **Render-blocking resources** -- CSS and synchronous JS block the browser from painting
- **Slow image loading** -- Large unoptimized images that are the LCP element
- **Client-side rendering** -- Empty HTML shell that waits for JS before showing content

### How to Improve LCP

```html
<!-- Preload the LCP image so the browser starts downloading it early -->
<link rel="preload" as="image" href="/hero.webp" />

<!-- Use modern formats and responsive sizes -->
<img
  src="/hero.webp"
  srcset="/hero-400.webp 400w, /hero-800.webp 800w"
  sizes="(max-width: 600px) 400px, 800px"
  alt="Hero image"
  fetchpriority="high"
/>
```

- **Reduce server response time** with caching, CDN, or SSG/ISR
- **Remove render-blocking CSS/JS** or inline critical CSS
- **Preload the LCP resource** with `<link rel="preload">`
- **Use `fetchpriority="high"`** on the LCP image
- **Serve modern image formats** (WebP, AVIF) with responsive `srcset`

## Interaction to Next Paint (INP)

INP replaced First Input Delay (FID) in March 2024. While FID only measured the **first** interaction, INP measures responsiveness across **all interactions** during the page visit and reports the worst one (at the 98th percentile).

An "interaction" is a click, tap, or keypress. INP measures the time from the user's input to the next visual update (paint) on screen.

### Common Causes of Poor INP

- **Long JavaScript tasks** (>50ms) blocking the main thread
- **Heavy re-renders** triggered by state changes on a large DOM
- **Synchronous work in event handlers** (computations, layout thrashing)
- **Third-party scripts** running expensive operations

### How to Improve INP

```javascript
// Bad: synchronous heavy work blocks the main thread
button.addEventListener('click', () => {
  processLargeDataset(data); // 200ms of work
  updateUI();
});

// Good: break work into smaller tasks with scheduler
button.addEventListener('click', async () => {
  updateUI(); // Paint feedback immediately
  await scheduler.yield(); // Let the browser breathe
  processLargeDataset(data); // Heavy work after paint
});
```

- **Break long tasks** into smaller chunks using `scheduler.yield()` or `requestIdleCallback`
- **Defer non-critical work** -- Update the UI first, then process data
- **Reduce DOM size** -- Fewer nodes means faster re-renders
- **Virtualize long lists** -- Render only visible rows instead of thousands
- **Audit third-party scripts** -- Remove or defer scripts that block the main thread

## Cumulative Layout Shift (CLS)

CLS measures how much the page layout shifts unexpectedly. When an ad loads and pushes content down, or a font swap changes text height, users lose their reading position. CLS quantifies this frustration.

A layout shift is "unexpected" when it happens without user interaction. Shifts caused by the user clicking a button or expanding a section do not count.

### Common Causes of Poor CLS

- **Images without dimensions** -- Browser does not know the size until the image loads
- **Ads or embeds that load late** -- Push content down when they appear
- **Web fonts causing flash** -- Text resizes when the custom font replaces the fallback
- **Dynamically injected content** -- Banners or notices inserted above existing content

### How to Improve CLS

```html
<!-- Always set width and height so the browser reserves space -->
<img src="/photo.webp" width="800" height="600" alt="Photo" />

<!-- Use aspect-ratio in CSS for responsive images -->
<style>
.hero-img { aspect-ratio: 16 / 9; width: 100%; }
</style>
```

- **Set explicit dimensions** on images and videos (`width`/`height` attributes or `aspect-ratio`)
- **Reserve space for ads** with fixed-size containers
- **Use `font-display: swap`** with `size-adjust` to minimize font-swap shifts
- **Avoid inserting content above the fold** after initial render

## Measuring Core Web Vitals

| Tool | Type | What It Shows |
|------|------|---------------|
| **CrUX (Chrome UX Report)** | Field data | Real user metrics at 75th percentile |
| **PageSpeed Insights** | Field + Lab | CrUX data plus Lighthouse simulation |
| **Lighthouse** | Lab | Simulated performance in controlled conditions |
| **Web Vitals JS library** | Field data | Add to your site to collect real metrics |
| **Chrome DevTools Performance** | Lab | Frame-by-frame rendering analysis |

**Field data** (CrUX, Web Vitals library) shows what real users experience. **Lab data** (Lighthouse, DevTools) helps you debug issues in a controlled environment. Use both together.

## Best Practices

- **Measure field data first** -- Lab scores can differ significantly from real-user experience
- **Optimize the LCP element** -- Identify what it is (usually the hero image) and make it load fast
- **Keep the main thread free** -- Long tasks destroy INP. Break up work, defer non-critical JS
- **Reserve layout space** -- Set dimensions on every image, ad, and embed to prevent shifts
- **Monitor continuously** -- Performance regresses over time. Set alerts on CrUX data or Real User Monitoring

## Key Takeaways

- Core Web Vitals are LCP (loading), INP (interactivity), and CLS (visual stability)
- Google evaluates these at the 75th percentile of real user visits
- INP replaced FID in 2024 and measures all interactions, not just the first
- LCP improves with preloading, SSR/SSG, CDN, and optimized images
- INP improves by breaking long tasks, deferring work, and reducing DOM size
- CLS improves by setting explicit dimensions and reserving space for dynamic content
- Use field data (CrUX) for real-world measurement and lab tools (Lighthouse) for debugging
