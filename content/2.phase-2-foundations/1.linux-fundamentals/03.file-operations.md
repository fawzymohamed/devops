---
title: "File Operations"
description: "Learn essential file commands: cp for copying, mv for moving, rm for deleting, and mkdir for creating directories."
estimatedMinutes: 12
difficulty: beginner
learningObjectives:
  - "Copy files and directories using cp with appropriate options"
  - "Move and rename files using mv"
  - "Delete files and directories safely using rm"
  - "Create directories with mkdir and empty files with touch"
  - "View file contents using cat, head, tail, and less"
quiz:
  passingScore: 70
  questions:
    - question: "Which option allows cp to copy an entire directory including its contents?"
      type: single
      options:
        - "-f"
        - "-i"
        - "-r"
        - "-v"
      correctAnswer: "-r"
      explanation: "The -r (or -R) option means recursive. It tells cp to copy the directory and everything inside it. Without -r, cp cannot copy directories."

    - question: "What happens if you use mv to move a file to a location where a file with the same name exists?"
      type: single
      options:
        - "The command fails with an error"
        - "The existing file is overwritten without warning"
        - "Both files are merged"
        - "A backup of the old file is created"
      correctAnswer: "The existing file is overwritten without warning"
      explanation: "By default, mv overwrites existing files without asking. To get a warning prompt, use the -i (interactive) option."

    - question: "Select all commands that can view file contents."
      type: multiple
      options:
        - "cat"
        - "head"
        - "touch"
        - "less"
      correctAnswers:
        - "cat"
        - "head"
        - "less"
      explanation: "cat displays the entire file, head shows the first lines, and less opens a scrollable viewer. touch creates empty files or updates timestamps - it does not display content."

    - question: "The rm command moves files to a trash folder before deleting them."
      type: true-false
      correctAnswer: false
      explanation: "False. The rm command permanently deletes files immediately. There is no trash or recycle bin. Once you rm a file, it is gone. This is why rm should be used carefully, especially with -rf."

    - question: "Which command creates nested directories like /var/projects/app/logs in one step?"
      type: single
      options:
        - "mkdir /var/projects/app/logs"
        - "mkdir -p /var/projects/app/logs"
        - "mkdir -r /var/projects/app/logs"
        - "touch /var/projects/app/logs"
      correctAnswer: "mkdir -p /var/projects/app/logs"
      explanation: "The -p option (parents) creates all necessary parent directories. Without -p, mkdir would fail if /var/projects or /var/projects/app did not exist."
---

# File Operations

After navigating the filesystem, you need to manage files. This means copying, moving, renaming, and deleting them. These operations are the building blocks of system administration and automation scripts.

## Creating Files and Directories

### mkdir - Make Directory

The `mkdir` command creates new directories.

```bash
# Create a single directory
mkdir projects

# Create nested directories with -p (parents)
mkdir -p projects/webapp/src

# Without -p, this would fail if projects/ doesn't exist
```

The `-p` option is essential for scripts. It creates all parent directories as needed and does not complain if the directory already exists.

### touch - Create Empty Files

The `touch` command creates empty files or updates the timestamp of existing files.

```bash
# Create an empty file
touch notes.txt

# Create multiple files at once
touch file1.txt file2.txt file3.txt

# Update timestamp of existing file
touch existing-file.txt
```

**DevOps tip:** `touch` is useful in scripts to create marker files that indicate a task completed.

## Copying Files: cp

The `cp` command copies files and directories.

```bash
# Copy a file
cp source.txt destination.txt

# Copy a file to a directory
cp config.txt /etc/myapp/

# Copy multiple files to a directory
cp file1.txt file2.txt /backup/
```

### Essential cp Options

```bash
# Recursive: copy directories and their contents
cp -r projects/ projects-backup/

# Interactive: ask before overwriting
cp -i important.txt /backup/

# Preserve: keep timestamps and permissions
cp -p config.txt config-backup.txt

# Verbose: show what is being copied
cp -v file.txt /destination/

# Combine options
cp -rv projects/ /backup/
```

::illustration-checklist
---
title: Common cp Options
items:
  - text: "-r    Recursive (for directories)"
    icon: "\U0001F4C1"
  - text: "-i    Interactive (ask before overwrite)"
    icon: "\U00002753"
  - text: "-p    Preserve attributes"
    icon: "\U0001F512"
  - text: "-v    Verbose output"
    icon: "\U0001F50A"
  - text: "-f    Force (overwrite without asking)"
    icon: "\U000026A1"
note: Use -i for safety, -r for directories
color: blue
size: 2xl
---
::

## Moving and Renaming: mv

The `mv` command moves files to a new location or renames them.

```bash
# Rename a file
mv oldname.txt newname.txt

# Move a file to another directory
mv file.txt /var/data/

# Move and rename at the same time
mv file.txt /var/data/newname.txt

# Move a directory
mv projects/ /home/ahmed/work/
```

### mv Options

```bash
# Interactive: ask before overwriting
mv -i source.txt /destination/

# Verbose: show what is happening
mv -v file.txt /backup/

# Do not overwrite existing files
mv -n source.txt /destination/
```

**Key difference from cp:** `mv` does not need `-r` for directories. It moves the entire directory naturally.

## Deleting: rm

The `rm` command removes files and directories. **Use with caution - there is no trash or undo.**

```bash
# Remove a file
rm unwanted.txt

# Remove multiple files
rm file1.txt file2.txt file3.txt
```

### rm Options

```bash
# Interactive: ask before each deletion
rm -i important.txt

# Recursive: remove directories and contents
rm -r old-project/

# Force: no prompts, ignore missing files
rm -f mystery-file.txt

# The dangerous combination (use carefully!)
rm -rf directory/
```

### Removing Directories

```bash
# Remove empty directory
rmdir empty-folder/

# Remove directory with contents
rm -r folder-with-files/
```

**Warning:** `rm -rf` is powerful and dangerous. Double-check your path before running it. A mistake like `rm -rf /` would destroy your entire system.

```bash
# Safe practice: verify first
ls /path/to/delete/
# Then delete
rm -rf /path/to/delete/
```

## Viewing File Contents

Several commands let you view file contents without editing.

### cat - Concatenate and Display

```bash
# Display entire file
cat file.txt

# Display multiple files
cat file1.txt file2.txt

# Show line numbers
cat -n file.txt
```

Best for small files. Large files will scroll off the screen.

### head and tail - View Parts of Files

```bash
# Show first 10 lines (default)
head file.txt

# Show first 20 lines
head -n 20 file.txt

# Show last 10 lines (default)
tail file.txt

# Show last 50 lines
tail -n 50 logfile.txt

# Follow a file in real-time (great for logs!)
tail -f /var/log/syslog
```

**DevOps tip:** `tail -f` is essential for watching logs during deployments or troubleshooting.

### less - Scrollable Viewer

```bash
# Open file in scrollable viewer
less largefile.txt
```

Inside `less`:
- Arrow keys or `j`/`k` to scroll
- `Space` to page down
- `b` to page up
- `/pattern` to search
- `q` to quit

### more - Simple Pager

```bash
# Similar to less but simpler
more file.txt
```

`less` is generally preferred because it allows backward scrolling.

## Practical Examples

### Setting Up a Project Structure

```bash
# Create project directories
mkdir -p myapp/{src,tests,docs,config}

# Verify the structure
ls -R myapp/
```

### Backing Up Configuration

```bash
# Copy config with timestamp
cp nginx.conf nginx.conf.backup-$(date +%Y%m%d)

# Or use cp -p to preserve original timestamp
cp -p nginx.conf nginx.conf.backup
```

### Cleaning Up Old Files

```bash
# First, check what will be deleted
ls /tmp/old-*

# Then remove
rm /tmp/old-*
```

### Watching a Log File

```bash
# Monitor log in real-time
tail -f /var/log/auth.log

# Show last 100 lines then follow
tail -n 100 -f /var/log/nginx/access.log
```

## Key Takeaways

- `mkdir -p` creates directories and any missing parents
- `cp -r` copies directories recursively; use `-i` for safety
- `mv` moves and renames files; works on directories without special options
- `rm` permanently deletes files - there is no trash
- `rm -rf` is powerful and dangerous - always verify the path first
- `cat` shows file contents; `head` and `tail` show portions
- `tail -f` follows a file in real-time - essential for log monitoring

In the next lesson, you will learn about file permissions and how to control who can read, write, and execute files.
