---
title: "Branching & Merging"
description: "Learn how to create branches to work on features separately and merge them back into the main codebase."
estimatedMinutes: 15
difficulty: beginner
learningObjectives:
  - "Understand what branches are and why they matter"
  - "Create, switch between, and delete branches"
  - "Merge branches to combine work from different lines of development"
  - "Resolve simple merge situations"
prerequisites:
  - "git-basics"
quiz:
  passingScore: 70
  questions:
    - question: "What command creates a new branch called 'feature'?"
      type: single
      options:
        - "git new feature"
        - "git branch feature"
        - "git checkout feature"
        - "git create branch feature"
      correctAnswer: "git branch feature"
      explanation: "git branch <name> creates a new branch. Note that this only creates the branch - you need 'git checkout feature' or 'git switch feature' to move to it."

    - question: "Select all commands that switch to an existing branch called 'develop'."
      type: multiple
      options:
        - "git checkout develop"
        - "git switch develop"
        - "git branch develop"
        - "git move develop"
      correctAnswers:
        - "git checkout develop"
        - "git switch develop"
      explanation: "Both 'git checkout develop' and 'git switch develop' move you to the develop branch. 'git branch develop' creates a new branch but does not switch to it."

    - question: "When you merge branch-a into main, which branch receives the changes?"
      type: single
      options:
        - "branch-a"
        - "main"
        - "Both branches"
        - "A new branch is created"
      correctAnswer: "main"
      explanation: "When you run 'git merge branch-a' while on main, the changes from branch-a flow into main. The branch you are on (main) receives the changes."

    - question: "Deleting a branch removes all commits that were made on that branch."
      type: true-false
      correctAnswer: false
      explanation: "False. If the branch was merged, those commits exist in the target branch. Deleting the branch just removes the pointer, not the commits themselves."

    - question: "What does HEAD point to in Git?"
      type: single
      options:
        - "The first commit in the repository"
        - "The remote server"
        - "The currently checked out branch or commit"
        - "The last pushed commit"
      correctAnswer: "The currently checked out branch or commit"
      explanation: "HEAD is a pointer to your current position in the repository. It usually points to the branch you have checked out, which in turn points to the latest commit on that branch."
---

# Branching & Merging

Branches let you work on different things at the same time without affecting each other. Think of branches as parallel universes for your code. You can experiment in one branch while keeping another branch stable.

## Why Branches Matter

Without branches, everyone would edit the same code at the same time. This leads to conflicts and broken code. Branches solve this by letting developers:

- Work on features without breaking the main code
- Experiment safely and throw away failed experiments
- Review changes before adding them to production
- Keep releases stable while developing new features

## How Branches Work

A branch is simply a pointer to a commit. When you create a branch, Git creates a new pointer. When you commit, that pointer moves forward.

::illustration-linear-flow
---
steps:
  - label: main
    sublabel: Production code
    icon: "\U0001F3E0"
    color: emerald
  - label: feature
    sublabel: New feature
    icon: "\U0001F527"
    color: blue
  - label: bugfix
    sublabel: Fix issues
    icon: "\U0001F41B"
    color: rose
direction: horizontal
size: full
---
::

## Viewing Branches

See all branches in your repository:

```bash
# List local branches
git branch

# List all branches (including remote)
git branch -a

# Show branches with last commit
git branch -v
```

Example output:

```
* main
  feature/login
  bugfix/header
```

The `*` marks your current branch.

## Creating Branches

Create a new branch:

```bash
# Create a branch
git branch feature/login

# Create and switch to it in one command
git checkout -b feature/login

# Modern way to create and switch
git switch -c feature/login
```

Branch naming conventions:

| Pattern | Use Case |
|---------|----------|
| `feature/name` | New features |
| `bugfix/name` | Bug fixes |
| `hotfix/name` | Urgent production fixes |
| `release/version` | Release preparation |

## Switching Branches

Move between branches:

```bash
# Traditional way
git checkout main

# Modern way (Git 2.23+)
git switch main
```

Before switching, make sure your working directory is clean. If you have uncommitted changes, Git may not let you switch:

```bash
# Check for uncommitted changes
git status

# If you have changes, either:
# 1. Commit them
git add . && git commit -m "Save work in progress"

# 2. Or stash them (covered in a later lesson)
git stash
```

## Understanding HEAD

HEAD is a special pointer that shows where you are now. It usually points to your current branch:

```bash
# See where HEAD points
cat .git/HEAD
# ref: refs/heads/main
```

When you commit, the branch HEAD points to moves forward.

## Merging Branches

After finishing work on a branch, you merge it back:

```bash
# First, switch to the target branch
git checkout main

# Then merge the feature branch
git merge feature/login
```

### Fast-Forward Merge

If main has not changed since you created the feature branch, Git does a **fast-forward merge**. It simply moves the main pointer forward:

```bash
# Before merge
main:    A---B
              \
feature:       C---D

# After fast-forward merge
main:    A---B---C---D
```

### Three-Way Merge

If both branches have new commits, Git creates a **merge commit** that combines both:

```bash
# Before merge
main:    A---B---E
              \
feature:       C---D

# After three-way merge
main:    A---B---E---M
              \     /
feature:       C---D
```

The merge commit M has two parents: E and D.

## Practical Example

Let us create a feature branch and merge it:

```bash
# Start on main
git checkout main

# Create and switch to feature branch
git checkout -b feature/welcome-message

# Make changes
echo "Welcome to our app!" > welcome.txt
git add welcome.txt
git commit -m "Add welcome message"

# Add another commit
echo "Thanks for using our app." >> welcome.txt
git add welcome.txt
git commit -m "Add thank you message"

# Switch back to main
git checkout main

# Merge the feature
git merge feature/welcome-message

# Check the history
git log --oneline --graph
```

## Deleting Branches

After merging, you can delete the feature branch:

```bash
# Delete a merged branch
git branch -d feature/login

# Force delete an unmerged branch
git branch -D experimental-feature
```

Use `-d` for merged branches (safe). Use `-D` only when you want to throw away unmerged work.

## Viewing Branch History

See how branches relate to each other:

```bash
# Graph view of all branches
git log --oneline --graph --all

# Example output
* a1b2c3d (HEAD -> main) Merge feature/login
|\
| * e4f5g6h (feature/login) Add login form
| * h7i8j9k Add login validation
|/
* k0l1m2n Initial commit
```

## Common Branch Commands

| Command | Purpose |
|---------|---------|
| `git branch` | List branches |
| `git branch name` | Create branch |
| `git branch -d name` | Delete merged branch |
| `git branch -D name` | Force delete branch |
| `git checkout name` | Switch to branch |
| `git switch name` | Switch to branch (modern) |
| `git checkout -b name` | Create and switch |
| `git switch -c name` | Create and switch (modern) |
| `git merge name` | Merge branch into current |

## Common Mistakes to Avoid

1. **Forgetting which branch you are on**: Always check with `git branch` or `git status`
2. **Merging into the wrong branch**: Make sure you are on the target branch before merging
3. **Not pulling before creating branches**: Start from the latest code
4. **Very long-lived branches**: Merge frequently to avoid large conflicts

## Key Takeaways

- Branches let you work on features without affecting the main code
- Create branches with `git branch` or `git checkout -b`
- Switch branches with `git checkout` or `git switch`
- Merge with `git merge` while on the target branch
- Delete merged branches with `git branch -d`
- Use a consistent naming pattern for branches

In the next lesson, you will learn about remote repositories and how to share your code with others.
