---
title: "Cherry Picking"
description: "Learn how to apply specific commits from one branch to another using git cherry-pick."
estimatedMinutes: 10
difficulty: intermediate
learningObjectives:
  - "Understand when and why to use cherry-pick"
  - "Apply specific commits from one branch to another"
  - "Handle conflicts during cherry-picking"
  - "Know the limitations and risks of cherry-picking"
prerequisites:
  - "branching-merging"
quiz:
  passingScore: 70
  questions:
    - question: "What does git cherry-pick do?"
      type: single
      options:
        - "Merges all commits from one branch to another"
        - "Copies a specific commit to the current branch"
        - "Deletes selected commits"
        - "Creates a new branch from a commit"
      correctAnswer: "Copies a specific commit to the current branch"
      explanation: "Cherry-pick takes a specific commit and applies its changes to your current branch. It creates a new commit with the same changes but a different hash."

    - question: "Cherry-picking creates a new commit with a different hash than the original."
      type: true-false
      correctAnswer: true
      explanation: "True. The cherry-picked commit is a new commit with different metadata (different parent, timestamp). Only the changes are the same."

    - question: "Select all valid use cases for cherry-picking."
      type: multiple
      options:
        - "Applying a hotfix to multiple branches"
        - "Grabbing a specific feature from a branch"
        - "Merging an entire feature branch"
        - "Recovering commits from a deleted branch"
      correctAnswers:
        - "Applying a hotfix to multiple branches"
        - "Grabbing a specific feature from a branch"
        - "Recovering commits from a deleted branch"
      explanation: "Cherry-pick is for individual commits. For merging entire branches, use git merge instead."

    - question: "What command cherry-picks commit abc123?"
      type: single
      options:
        - "git pick abc123"
        - "git cherry abc123"
        - "git cherry-pick abc123"
        - "git commit --pick abc123"
      correctAnswer: "git cherry-pick abc123"
      explanation: "The command is git cherry-pick followed by the commit hash. You can use the full hash or a shortened version."
---

# Cherry Picking

Sometimes you need to copy just one commit from one branch to another. Maybe a bug fix needs to go to multiple branches, or you want to grab a specific feature without merging everything. This is what cherry-pick does.

## What is Cherry-Picking?

Cherry-pick takes a specific commit and applies its changes to your current branch. It creates a new commit with the same changes but a different commit hash.

```bash
# Apply commit abc123 to current branch
git cherry-pick abc123
```

Think of it like photocopying a page from one book and pasting it into another.

## When to Use Cherry-Pick

Cherry-pick is useful for:

- **Hotfixes**: Apply the same fix to multiple branches
- **Backporting**: Bring a feature to an older release branch
- **Recovery**: Rescue commits from a branch you are about to delete
- **Selective merging**: Get one commit without the rest of the branch

## Basic Cherry-Pick

Find the commit hash you want:

```bash
# View commits on another branch
git log feature/login --oneline

# Example output
a1b2c3d Add input validation
e4f5g6h Add login form
h7i8j9k Create login page
```

Cherry-pick the commit:

```bash
# Make sure you are on the target branch
git checkout main

# Cherry-pick the commit
git cherry-pick a1b2c3d

# Check the result
git log --oneline
# x9y8z7w Add input validation  # New commit, same changes
```

::illustration-linear-flow
---
steps:
  - label: Find Commit
    sublabel: git log
    icon: "\U0001F50D"
    color: blue
  - label: Switch Branch
    sublabel: git checkout
    icon: "\U0001F500"
    color: violet
  - label: Cherry-Pick
    sublabel: git cherry-pick
    icon: "\U0001F352"
    color: rose
  - label: New Commit
    sublabel: Applied
    icon: "\U00002705"
    color: emerald
direction: horizontal
size: full
---
::

## Cherry-Picking Multiple Commits

Apply several commits at once:

```bash
# Multiple specific commits
git cherry-pick a1b2c3d e4f5g6h h7i8j9k

# Range of commits (excludes first, includes last)
git cherry-pick a1b2c3d..h7i8j9k

# Include the first commit too
git cherry-pick a1b2c3d^..h7i8j9k
```

## Handling Conflicts

If the cherry-picked changes conflict with your current code:

```bash
git cherry-pick a1b2c3d
# CONFLICT in login.js

# Fix the conflict manually
# ... edit login.js ...

# Stage the resolved file
git add login.js

# Continue the cherry-pick
git cherry-pick --continue

# Or abort if you want to cancel
git cherry-pick --abort
```

## Cherry-Pick Options

Useful flags:

```bash
# Don't commit automatically - stage changes only
git cherry-pick --no-commit a1b2c3d
# or
git cherry-pick -n a1b2c3d

# Edit the commit message
git cherry-pick --edit a1b2c3d
# or
git cherry-pick -e a1b2c3d

# Add source info to commit message
git cherry-pick -x a1b2c3d
# Adds: (cherry picked from commit a1b2c3d)
```

## Practical Example: Hotfix to Multiple Branches

You fixed a critical bug on main and need the same fix on the release branch:

```bash
# You are on main, you made the fix
git log --oneline -1
# f1x2b3g Fix critical security issue

# Switch to release branch
git checkout release/1.0

# Cherry-pick the fix
git cherry-pick f1x2b3g

# Verify
git log --oneline -1
# a9b8c7d Fix critical security issue  # Same fix, new hash
```

## Cherry-Pick vs Merge

| Use Case | Cherry-Pick | Merge |
|----------|-------------|-------|
| One specific commit | Yes | No |
| All changes from branch | No | Yes |
| Preserves branch history | No | Yes |
| Creates duplicate commits | Yes | No |

## Risks and Limitations

**Duplicate commits**: If you later merge the source branch, you may have the same changes twice (different hashes).

```bash
# Original on feature
a1b2c3d Add login

# Cherry-picked to main
x9y8z7w Add login  # Same changes, different hash

# Later merge feature to main
# Both commits exist - Git usually handles this OK
```

**Missing context**: A commit might depend on previous commits. Cherry-picking just one may not work.

```bash
# Commit 1: Create user table
# Commit 2: Add columns to user table  # Depends on commit 1

# Cherry-picking commit 2 alone will fail
```

**Hard to track**: Unlike merge commits, cherry-picks do not show where commits came from (unless you use `-x`).

## Best Practices

::illustration-checklist
---
title: Cherry-Pick Best Practices
items:
  - text: Use -x flag to document the source
    icon: "\U0001F4DD"
  - text: Prefer merging over cherry-picking when possible
    icon: "\U0001F500"
  - text: Test cherry-picked changes thoroughly
    icon: "\U0001F9EA"
  - text: Keep track of what you cherry-picked
    icon: "\U0001F4CB"
note: Cherry-pick is a precision tool, not a replacement for merge
color: rose
size: 2xl
---
::

## Common Mistakes to Avoid

1. **Over-using cherry-pick**: If you need many commits, consider merge instead
2. **Cherry-picking without context**: Make sure the commit can stand alone
3. **Forgetting to push**: Cherry-pick only affects your local branch
4. **Not using -x**: Makes it hard to trace where commits came from

## Key Takeaways

- Cherry-pick copies a specific commit to your current branch
- The new commit has the same changes but a different hash
- Use it for hotfixes, backporting, or selective changes
- Use `-x` flag to track where the commit came from
- Prefer merge when you need all changes from a branch
- Be careful of duplicate commits when later merging

In the next lesson, you will learn about stashing changes to temporarily save work without committing.
